<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookly - –í–∞—à –ø–æ–º–æ—â–Ω–∏–∫ –≤ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏–∏ –µ–¥—ã</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="icon" type="image/x-icon" href="https://img.icons8.com/color/96/000000/restaurant-menu.png">
    <style>
        /* –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –∫–Ω–æ–ø–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ */
        .auth-btn {
            display: inline-flex !important;
            align-items: center !important;
            gap: 8px !important;
            padding: 8px 20px !important;
            border-radius: 25px !important;
            font-weight: 600 !important;
            text-decoration: none !important;
            color: white !important;
            transition: all 0.3s !important;
            cursor: pointer !important;
            pointer-events: auto !important;
            position: relative !important;
            z-index: 9999 !important;
        }

        .login-btn {
            background: rgba(255, 255, 255, 0.2) !important;
        }

        .register-btn {
            background: var(--accent-teal) !important;
        }

        .auth-btn:hover {
            transform: translateY(-2px) !important;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2) !important;
        }

        #auth-buttons {
            display: flex !important;
            gap: 10px !important;
            pointer-events: auto !important;
        }

        #user-menu {
            display: none !important;
            align-items: center !important;
            gap: 15px !important;
            pointer-events: auto !important;
        }

        /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –Ω–∏–∂–Ω–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ */
        .nav-tab {
            cursor: pointer !important;
            pointer-events: auto !important;
            user-select: none !important;
        }

        /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –∫–Ω–æ–ø–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–∞ */
        .add-recipe-btn {
            cursor: pointer !important;
            pointer-events: auto !important;
            z-index: 9999 !important;
        }

        /* –£–±–∏—Ä–∞–µ–º –≤–æ–∑–º–æ–∂–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∫–ª–∏–∫–æ–≤ */
        header, .container, .logo, [style*="display: flex"] {
            pointer-events: auto !important;
        }

        /* –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */
        .recipe-modal {
            z-index: 10000 !important;
        }

        .close-modal, .favorite-btn, .modal-favorite-btn, .modal-edit-btn, .modal-delete-btn {
            cursor: pointer !important;
            pointer-events: auto !important;
        }

        /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è –Ω–∏–∂–Ω–µ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è 4 –≤–∫–ª–∞–¥–æ–∫ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--card-bg);
            border-top: 2px solid var(--light-green);
            display: flex;
            justify-content: space-around;
            box-shadow: 0 -10px 30px rgba(84, 110, 122, 0.15);
            z-index: 100;
            padding: 8px 0;
            backdrop-filter: blur(10px);
            background-color: rgba(255, 255, 255, 0.95);
        }

        .nav-tab {
            flex: 1;
            text-align: center;
            padding: 12px 5px;
            font-weight: 700;
            font-size: 0.9rem;
            color: var(--text-light);
            cursor: pointer;
            transition: all 0.3s;
            border-top: 4px solid transparent;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
            border-radius: 15px;
            margin: 0 5px;
            position: relative;
            overflow: hidden;
        }

        .nav-tab i {
            font-size: 1.5rem;
            transition: all 0.3s;
            position: relative;
            z-index: 1;
        }

        .nav-tab.active {
            color: var(--dark-green);
            border-top: 4px solid var(--primary-green);
            background: linear-gradient(to bottom, rgba(232, 245, 233, 0.3), rgba(46, 125, 50, 0.1));
        }

        .nav-tab.active i {
            color: var(--accent-teal);
            transform: scale(1.15);
        }

        .nav-tab:not(.active):hover {
            color: var(--primary-green);
            background-color: rgba(46, 125, 50, 0.05);
        }

        @media (max-width: 480px) {
            .nav-tab {
                font-size: 0.8rem;
                padding: 10px 3px;
                gap: 5px;
            }
            .nav-tab i {
                font-size: 1.3rem;
            }
        }
    </style>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ -->
    <header>
        <div class="container">
            <!-- –í–ï–†–•–ù–Ø–Ø –°–¢–†–û–ö–ê –° –õ–û–ì–û–¢–ò–ü–û–ú –ò –ö–ù–û–ü–ö–ê–ú–ò -->
            <div style="display: flex; align-items: center; justify-content: space-between; width: 100%;">
                <div class="logo">
                    <i class="fas fa-utensils"></i>
                    <span class="logo-green">Cookly</span>
                </div>

                <!-- –ö–ù–û–ü–ö–ò –ê–í–¢–û–†–ò–ó–ê–¶–ò–ò - –ü–†–Ø–ú–´–ï –°–°–´–õ–ö–ò -->
                <div style="display: flex; align-items: center; gap: 15px;">
                    <div id="auth-buttons" style="display: flex; gap: 10px;">
                        <a href="/login" class="auth-btn login-btn" id="login-btn">
                            <i class="fas fa-sign-in-alt"></i>
                            <span>–í–æ–π—Ç–∏</span>
                        </a>
                        <a href="/register" class="auth-btn register-btn" id="register-btn">
                            <i class="fas fa-user-plus"></i>
                            <span>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</span>
                        </a>
                    </div>

                    <!-- –ú–ï–ù–Æ –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–Ø (—Å–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                    <div id="user-menu" style="display: none; align-items: center; gap: 15px;">
                        <a href="/profile" id="profile-link" style="display: flex; align-items: center; gap: 10px; color: white; text-decoration: none; padding: 5px 15px; border-radius: 25px; background: rgba(255,255,255,0.1); transition: all 0.3s;">
                            <span id="user-name" style="font-weight: 600;"></span>
                            <img id="user-avatar" src="" alt="Avatar" style="width: 35px; height: 35px; border-radius: 50%; border: 2px solid white; display: none; object-fit: cover;">
                            <div id="user-avatar-placeholder" style="width: 35px; height: 35px; border-radius: 50%; background: var(--accent-teal); color: white; display: none; align-items: center; justify-content: center; font-weight: 700; border: 2px solid white;"></div>
                        </a>
                        <a href="#" id="logout-btn" style="background: rgba(255,255,255,0.2); border: none; color: white; width: 40px; height: 40px; border-radius: 50%; display: flex; align-items: center; justify-content: center; text-decoration: none; transition: all 0.3s;">
                            <i class="fas fa-sign-out-alt"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- –¢–≠–ì–õ–ê–ô–ù -->
            <p class="tagline">–ù–∞—Ö–æ–¥–∏—Ç–µ —Ä–µ—Ü–µ–ø—Ç—ã –ø–æ –ø—Ä–æ–¥—É–∫—Ç–∞–º –Ω–∞ —Ñ–æ—Ç–æ!</p>
        </div>
    </header>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
    <div class="container">
        <!-- –í–∫–ª–∞–¥–∫–∞: –í—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã -->
        <div id="recipes" class="tab-content active">
            <div class="section-title">
                <i class="fas fa-book-open"></i>
                <span>–í—Å–µ —Ä–µ—Ü–µ–ø—Ç—ã</span>
            </div>
            <div class="recipes-container" id="recipes-list">
                <!-- –†–µ—Ü–µ–ø—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                <div style="text-align: center; padding: 50px 20px; color: var(--text-light);">
                    <div class="loading" style="width: 50px; height: 50px; margin: 0 auto 20px;"></div>
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤...</p>
                </div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –ò–∑–±—Ä–∞–Ω–Ω–æ–µ -->
        <div id="favorites" class="tab-content">
            <div class="section-title">
                <i class="fas fa-heart"></i>
                <span>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
            </div>
            <div class="recipes-container" id="favorites-list"></div>
            <div id="empty-favorites" style="text-align: center; padding: 60px 20px; display: none;">
                <i class="far fa-heart" style="font-size: 4rem; color: var(--cool-light); margin-bottom: 20px;"></i>
                <h3 style="color: var(--text-light); margin-bottom: 15px;">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ –ø—É—Å—Ç–æ</h3>
                <p style="color: var(--text-light); max-width: 300px; margin: 0 auto;">–î–æ–±–∞–≤–ª—è–π—Ç–µ —Ä–µ—Ü–µ–ø—Ç—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, –Ω–∞–∂–∏–º–∞—è –Ω–∞ —Å–µ—Ä–¥–µ—á–∫–æ</p>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –ü–æ–∏—Å–∫ –ø–æ —Ñ–æ—Ç–æ -->
        <div id="photo-search" class="tab-content">
            <div class="photo-search-container">
                <div class="section-title">
                    <i class="fas fa-camera"></i>
                    <span>–ü–æ–∏—Å–∫ –ø–æ —Ñ–æ—Ç–æ</span>
                </div>

                <p class="search-description">
                    <strong>–°—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—Ä—É–π—Ç–µ –ø—Ä–æ–¥—É–∫—Ç—ã</strong>, –∫–æ—Ç–æ—Ä—ã–µ —É –≤–∞—Å –µ—Å—Ç—å, –∏ Cookly –Ω–∞–π–¥–µ—Ç –ø–æ–¥—Ö–æ–¥—è—â–∏–µ —Ä–µ—Ü–µ–ø—Ç—ã!
                    –ú–æ–¥–µ–ª—å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç –æ–≤–æ—â–∏, —Ñ—Ä—É–∫—Ç—ã –∏ –¥—Ä—É–≥–∏–µ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã –Ω–∞ –≤–∞—à–µ–º —Ñ–æ—Ç–æ.
                </p>

                <!-- –ö–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ —Ñ–æ—Ç–æ -->
                <div style="display: flex; gap: 10px; margin-bottom: 20px; justify-content: center;">
                    <button class="camera-btn" id="open-camera-btn" style="background: linear-gradient(135deg, var(--primary-green), var(--accent-teal)); color: white; border: none; padding: 12px 25px; border-radius: 50px; font-weight: 700; cursor: pointer; display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-camera"></i> –°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ
                    </button>
                </div>

                <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞–º–µ—Ä—ã (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                <div id="camera-container" style="display: none; position: relative; width: 100%; max-width: 500px; margin: 0 auto 20px; border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
                    <video id="camera-video" autoplay playsinline style="width: 100%; height: auto; display: block; background: #000; transform: scaleX(-1);"></video>
                    <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; border: 3px solid var(--accent-teal); border-radius: 20px; pointer-events: none;"></div>
                    <div style="position: absolute; top: 20px; right: 20px;">
                        <button id="close-camera-btn" style="width: 40px; height: 40px; border-radius: 50%; background: rgba(0,0,0,0.5); border: 2px solid white; color: white; cursor: pointer; display: flex; align-items: center; justify-content: center;">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div style="position: absolute; bottom: 20px; left: 0; right: 0; display: flex; justify-content: center;">
                        <button id="capture-btn" style="width: 70px; height: 70px; border-radius: 50%; background: white; border: 4px solid var(--accent-teal); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 1.8rem; color: var(--accent-teal);">
                            <i class="fas fa-circle"></i>
                        </button>
                    </div>
                </div>

                <!-- –°–∫—Ä—ã—Ç—ã–π canvas –¥–ª—è –∑–∞—Ö–≤–∞—Ç–∞ —Ñ–æ—Ç–æ -->
                <canvas id="photo-canvas" style="display: none;"></canvas>

                <!-- –û–±–ª–∞—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ -->
                <div class="upload-area" id="upload-area">
                    <i class="fas fa-camera upload-icon"></i>
                    <div class="upload-text">–ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤</div>
                    <div class="upload-subtext">–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Å—é–¥–∞ —Ñ–æ—Ç–æ –∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–∞</div>
                </div>

                <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ (—Å–∫—Ä—ã—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) -->
                <div id="upload-progress" style="display: none; width: 100%; height: 4px; background: var(--light-green); border-radius: 2px; margin-top: 15px; overflow: hidden;">
                    <div id="upload-progress-bar" style="height: 100%; background: linear-gradient(to right, var(--primary-green), var(--accent-teal)); width: 0%; transition: width 0.3s;"></div>
                </div>

                <input type="file" id="file-input" accept="image/*" style="display: none;">

                <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ -->
                <div class="photo-decorations">
                    <div class="photo-icon">
                        <i class="fas fa-carrot"></i>
                    </div>
                    <div class="photo-icon">
                        <i class="fas fa-apple-alt"></i>
                    </div>
                    <div class="photo-icon">
                        <i class="fas fa-cheese"></i>
                    </div>
                </div>

                <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ -->
                <div id="search-results" class="search-results"></div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –ú–æ–∏ —Ä–µ—Ü–µ–ø—Ç—ã -->
        <div id="my-recipes" class="tab-content">
            <div class="section-title">
                <i class="fas fa-user-chef"></i>
                <span>–ú–æ–∏ —Ä–µ—Ü–µ–ø—Ç—ã</span>
            </div>
            <div class="recipes-container" id="my-recipes-list"></div>
            <div id="empty-my-recipes" style="text-align: center; padding: 60px 20px; display: block;">
                <i class="fas fa-edit" style="font-size: 4rem; color: var(--cool-light); margin-bottom: 20px;"></i>
                <h3 style="color: var(--text-light); margin-bottom: 15px;">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Å–≤–æ–∏—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤</h3>
                <p style="color: var(--text-light); max-width: 300px; margin: 0 auto;">–°–æ–∑–¥–∞–π—Ç–µ —Å–≤–æ–π –ø–µ—Ä–≤—ã–π —Ä–µ—Ü–µ–ø—Ç, –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É "+" –≤–Ω–∏–∑—É</p>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –°–æ–∑–¥–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç (—Å–∫—Ä—ã—Ç–∞, –Ω–æ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ —Å—Å—ã–ª–∫–µ) -->
        <div id="create" class="tab-content">
            <div class="create-recipe-container">
                <div class="section-title">
                    <i class="fas fa-plus-circle"></i>
                    <span>–°–æ–∑–¥–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç</span>
                </div>

                <form id="recipe-form">
                    <!-- –û—Å–Ω–æ–≤–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
                    <div class="form-group">
                        <label class="form-label" for="recipe-title">
                            <i class="fas fa-heading"></i> –ù–∞–∑–≤–∞–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞ *
                        </label>
                        <input type="text" id="recipe-title" class="form-input" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–∞–ª–∞—Ç –¶–µ–∑–∞—Ä—å" required>
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="recipe-image">
                            <i class="fas fa-image"></i> –°—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                        </label>
                        <input type="text" id="recipe-image" class="form-input"
                               placeholder="https://example.com/image.jpg"
                               value="https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80">
                        <small style="color: var(--text-light); display: block; margin-top: 5px;">
                            –û—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç—ã–º –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
                        </small>
                    </div>

                    <div class="form-group">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div>
                                <label class="form-label" for="recipe-time">
                                    <i class="far fa-clock"></i> –í—Ä–µ–º—è *
                                </label>
                                <input type="text" id="recipe-time" class="form-input" placeholder="30 –º–∏–Ω" required>
                            </div>
                            <div>
                                <label class="form-label" for="recipe-difficulty">
                                    <i class="fas fa-signal"></i> –°–ª–æ–∂–Ω–æ—Å—Ç—å *
                                </label>
                                <select id="recipe-difficulty" class="form-select" required>
                                    <option value="–õ–µ–≥–∫–æ">–õ–µ–≥–∫–æ</option>
                                    <option value="–°—Ä–µ–¥–Ω–µ">–°—Ä–µ–¥–Ω–µ</option>
                                    <option value="–°–ª–æ–∂–Ω–æ">–°–ª–æ–∂–Ω–æ</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                            <div>
                                <label class="form-label" for="recipe-calories">
                                    <i class="fas fa-fire"></i> –ö–∞–ª–æ—Ä–∏–∏ *
                                </label>
                                <input type="text" id="recipe-calories" class="form-input" placeholder="350 –∫–∫–∞–ª" required>
                            </div>
                            <div>
                                <label class="form-label" for="recipe-servings">
                                    <i class="fas fa-utensils"></i> –ü–æ—Ä—Ü–∏–∏ *
                                </label>
                                <input type="text" id="recipe-servings" class="form-input" placeholder="2 –ø–æ—Ä—Ü–∏–∏" required>
                            </div>
                        </div>
                    </div>

                    <!-- –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã -->
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-shopping-basket"></i> –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã *
                        </label>
                        <div id="ingredients-container"></div>
                        <div id="no-ingredients-message" style="text-align: center; padding: 20px; background: rgba(232, 245, 233, 0.5); border-radius: 10px; color: var(--text-light);">
                            <i class="fas fa-info-circle"></i> –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç
                        </div>
                        <button type="button" class="add-ingredient-btn" onclick="window.addIngredient()">
                            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç
                        </button>
                    </div>

                    <!-- –®–∞–≥–∏ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è -->
                    <div class="form-group">
                        <label class="form-label">
                            <i class="fas fa-list-ol"></i> –®–∞–≥–∏ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è *
                        </label>
                        <div id="steps-container"></div>
                        <button type="button" class="add-step-btn" onclick="window.addStep()">
                            <i class="fas fa-plus"></i> –î–æ–±–∞–≤–∏—Ç—å —à–∞–≥
                        </button>
                    </div>

                    <!-- –ö–Ω–æ–ø–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π -->
                    <div class="form-actions">
                        <button type="button" class="cancel-btn" onclick="window.cancelCreate()">
                            <i class="fas fa-times"></i> –û—Ç–º–µ–Ω–∞
                        </button>
                        <button type="submit" class="save-btn">
                            <i class="fas fa-save"></i> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ—Ü–µ–ø—Ç
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–∞ -->
    <button class="add-recipe-btn" id="add-recipe-btn" onclick="window.openCreateRecipeForm()">
        <i class="fas fa-plus"></i>
    </button>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –¥–µ—Ç–∞–ª—è–º–∏ —Ä–µ—Ü–µ–ø—Ç–∞ -->
    <div id="recipe-modal" class="recipe-modal" onclick="if(event.target===this) window.closeRecipeModal()">
        <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
    </div>

    <!-- –ù–∏–∂–Ω—è—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è (4 –≤–∫–ª–∞–¥–∫–∏, –±–µ–∑ "–°–æ–∑–¥–∞—Ç—å") -->
    <div class="bottom-nav">
        <div class="nav-tab active" data-tab="recipes" onclick="window.switchTab('recipes')">
            <i class="fas fa-book-open"></i>
            <span>–†–µ—Ü–µ–ø—Ç—ã</span>
        </div>
        <div class="nav-tab" data-tab="favorites" onclick="window.switchTab('favorites')">
            <i class="fas fa-heart"></i>
            <span>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
        </div>
        <div class="nav-tab" data-tab="photo-search" onclick="window.switchTab('photo-search')">
            <i class="fas fa-camera"></i>
            <span>–ü–æ–∏—Å–∫</span>
        </div>
        <div class="nav-tab" data-tab="my-recipes" onclick="window.switchTab('my-recipes')">
            <i class="fas fa-utensils"></i>
            <span>–ú–æ–∏</span>
        </div>
    </div>

    <!-- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ JavaScript -->
    <script src="/static/js/app.js"></script>

    <!-- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∞–≤–∞—Ä–∏–π–Ω—ã–π —Å–∫—Ä–∏–ø—Ç - —Ç–æ–ª—å–∫–æ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏ —Ä–∞–±–æ—Ç—ã —Å—Å—ã–ª–æ–∫, –±–µ–∑ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è -->
    <script>
        (function() {
            console.log('üõü –ê–≤–∞—Ä–∏–π–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω');

            // –ù–ï –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏, —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª—è–µ–º fallback –Ω–∞ —Å–ª—É—á–∞–π –µ—Å–ª–∏ app.js –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –∑–∞–≥—Ä—É–∑–∏–ª—Å—è –ª–∏ app.js
            let appJsLoaded = false;

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
            function checkAppJs() {
                if (typeof window.checkAuth === 'function' && typeof window.updateAuthUI === 'function') {
                    appJsLoaded = true;
                    console.log('‚úÖ app.js —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω, –∞–≤–∞—Ä–∏–π–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è');
                    return true;
                }
                return false;
            }

            // –ï—Å–ª–∏ app.js –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥—ã, —Ç–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
            setTimeout(function() {
                if (!checkAppJs()) {
                    console.warn('‚ö†Ô∏è app.js –Ω–µ –∑–∞–≥—Ä—É–∑–∏–ª—Å—è, –∞–∫—Ç–∏–≤–∏—Ä—É–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –∞–≤–∞—Ä–∏–π–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å');

                    // –¢–æ–ª—å–∫–æ –ø—Ä—è–º–æ–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ —Å—Å—ã–ª–∫–∞–º, –±–µ–∑ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
                    document.querySelectorAll('a[href="/login"]').forEach(link => {
                        link.addEventListener('click', function(e) {
                            if (!appJsLoaded) {
                                e.preventDefault();
                                window.location.href = '/login';
                            }
                        });
                    });

                    document.querySelectorAll('a[href="/register"]').forEach(link => {
                        link.addEventListener('click', function(e) {
                            if (!appJsLoaded) {
                                e.preventDefault();
                                window.location.href = '/register';
                            }
                        });
                    });
                }
            }, 2000);

            // –ù–∏—á–µ–≥–æ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º, –¥–∞–µ–º app.js –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å
        })();
    </script>
</body>
</html>